<!DOCTYPE html>
<html>
<head>
    <title>Mobile 1</title>
    
</head>
<body>
    <div>This is Mobile 21 </div>
    <div>Product id : <p id ="pid">bdbidei208</p></div>
    IIDD: <input type="text" id="myText" value="7301213a">
    <div id="mydiv">
        <div id="mydivheader">Click here to move</div>
            <p>Move</p>
            <p>this</p>
            <p>DIV</p>
            <a href="11.html">11 page</a>
            <a href="22.html">22 page</a>
    </div>
    <div>
        <style type='text/css'>
            .embeddedServiceHelpButton .helpButton .uiButton {
                background-color: #005290;
                font-family: "Arial", sans-serif;
            }
            .embeddedServiceHelpButton .helpButton .uiButton:focus {
                outline: 1px solid #005290;
            }
            .dockableContainer 
            {
                position: absolute;
                z-index: 9;
                background-color: #f1f1f1;
                border: 1px solid #d3d3d3;
                text-align: center;


            }
        </style>
        
        <script type='text/javascript' src='https://service.force.com/embeddedservice/5.0/esw.min.js'></script>
        <script type='text/javascript'>
            

            var initESW = function(gslbBaseURL) {
                embedded_svc.settings.displayHelpButton = true; //Or false
                embedded_svc.settings.language = ''; //For example, enter 'en' or 'en-US'

                embedded_svc.settings.storageDomain = 'chaeks.github.io'; //(Sets the domain for your deployment so that visitors can navigate subdomains during a chat session)
        
        
                
                embedded_svc.settings.enabledFeatures = ['LiveAgent'];
                embedded_svc.settings.entryFeature = 'LiveAgent';

                //ext for new field

                embedded_svc.settings.extraPrechatFormDetails = [{
                    // "label": "First Name",
                    // "value": "John",
                    // "displayToAgent": true
                    // }, {
                    // "label": "Last Name",
                    // "value": "Doe",
                    // "displayToAgent": true
                    // }, {
                    // "label": "Email",
                    // "value": "john.doe@salesforce.com",
                    // "displayToAgent": true
                    // }, {
                        
                "label": "pChoice",
                "value": document.getElementById("myText").value,
                "displayToAgent": true},

{
                "label": "source detail",
                "value": "sourceVlue",
                "transcriptFields"  : ["source_detail__c"],
                "displayToAgent": true}
                    // for transcript object

                    ];

                    // embedded_svc.settings.extraPrechatFormDetails.value = testVal;


                    // "value": "bdibdie53",

                    // embedded_svc.settings.extraPrechatInfo = [{
                    //     "entityFieldMaps": [{
                    //         "doCreate": false,
                    //         "doFind": true,
                    //         "fieldName": "pChoice__c",
                    //         "isExactMatch": true,
                    //         "label": "pChoice"
                    //      }
                    // // commented 

                        //  , {
                        //     "doCreate": false,
                        //     "doFind": true,
                        //     "fieldName": "Email",
                        //     "isExactMatch": true,
                        //     "label": "Email"
                        // }
                        
                    // ],
                    //     "entityName": "Lead"
                    //     }];

                    embedded_svc.addEventHandler("onHelpButtonClick", function(data) {
                        console.log("On Click Chat icon event was fired.");
                        });
                        
                        embedded_svc.addEventHandler("onChatRequestSuccess", function(data) {
                        console.log("On Click Start Chat Button event was fired.");
                        });
                        
                        embedded_svc.addEventHandler("onChatEstablished", function(data) {
                            const varStyle=document.getElementsByClassName("minimizedText");
                            varStyle[0].style.display='block';
                            console.log("On Chat Established event was fired.");
                        });
                        
                        embedded_svc.addEventHandler("onChatTransferSuccessful", function(data) {
                        console.log("On ChatTransferSuccessfulToLiveAgent event was fired.");
                        });
                        
                        embedded_svc.addEventHandler("onChatEndedByChasitor", function(data) {
                            console.log("onChatEndedByChasitor event was fired.  liveAgentSessionKey was " + data.liveAgentSessionKey);
                        });
                        
                        embedded_svc.addEventHandler("onChatEndedByAgent", function(data) {
                            console.log("onChatEndedByAgent event was fired.  liveAgentSessionKey was " + data.liveAgentSessionKey);
                        });
                        
                        embedded_svc.addEventHandler("onAgentMessage", function(data) {
                            const varStyle=document.getElementsByClassName("minimizedText");
                            varStyle[0].style.display='block';
                            console.log("onAgentMessage event was fired.  liveAgentSessionKey was " + data.liveAgentSessionKey);
                        });
                        embedded_svc.addEventHandler("onChatEndedByChatbot", function(data) {
                        console.log("onChatEndedByChatbot event was fired. Agent availability status is " + data.isAgentAvailable ? "online": "offline");
                        });        
                        
                        embedded_svc.addEventHandler("afterMinimize", function(data) {
                        console.log("afterMinimize event was fired. Agent availability status is "+JSON.stringify(data));
                        }); 
                        
                        embedded_svc.addEventHandler("afterMaximize", function(data) {
                        console.log("afterMaximize event was fired. Agent availability status is "+JSON.stringify(data));
                        }); 
                        
                        embedded_svc.addEventHandler("afterDestroy", function(data) {
                         const varStyle=document.getElementsByClassName("embeddedServiceIcon");
                         varStyle[0].style.display='block';
                         console.log("afterDestroy event was fired. Agent availability status is "+JSON.stringify(data));
                        }); 
                       
                        //newly added for emc
                        embedded_svc.settings.externalScripts = ["CustomEvents_fromAgentToCustomer"];
                        
        
        
                embedded_svc.init(
                    'https://tcscom-fc-dev-ed.my.salesforce.com',
                    'https://ckush-developer-edition.ap24.force.com',
                    gslbBaseURL,
                    '00D5g000004G0mx',
                    'Chat_agents',
                    {
                        baseLiveAgentContentURL: 'https://c.la2-c1-hnd.salesforceliveagent.com/content',
                        deploymentId: '5725g000000gOqj',
                        buttonId: '5735g000000gS92',
                        baseLiveAgentURL: 'https://d.la2-c1-hnd.salesforceliveagent.com/chat',
                        eswLiveAgentDevName: 'Chat_agents',
                        isOfflineSupportEnabled: false
                    }
                );
            };
        
            if (!window.embedded_svc) {
                var s = document.createElement('script');
                s.setAttribute('src', 'https://tcscom-fc-dev-ed.my.salesforce.com/embeddedservice/5.0/esw.min.js');
                s.onload = function() {
                    initESW(null);
                };
                document.body.appendChild(s);
            } else {
                initESW('https://service.force.com');
            }
        </script>
        </div>
</body>

</html>